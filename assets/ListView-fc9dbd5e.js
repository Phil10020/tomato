import{p as Z,m as re,l as we,q as ke,v as ee,c as I,x as te,h as n,y as z,z as Q,M as Pe,I as le,E as ae,A as Se,B as Re,C as Fe,D as Be,F as $e,G as Le,H as Te,J as De,r as T,K as Oe,L as Ae,N as Ee,w as We,O as Me,P as Ne,Q as Ue,R as L,S as J,T as qe,U as Ke,W as je,X as ze,Y as He,Z as Xe,_ as Ye,n as ce,$ as Ge,a0 as Je,s as Qe,d as $,e as Ze,f as O,V as et,a1 as fe,i as f,a2 as A,a3 as ve,u as E,k as me,t as he,j,a4 as tt,a5 as nt}from"./index-9da3bea8.js";import{u as lt}from"./list-2f52ad9b.js";import{V as Y,a as at}from"./VRow-2da62b6d.js";import{V as it,m as ot,u as xe,a as st,b as rt,c as ge,d as ye}from"./VInput-14209335.js";class ie{constructor(o){let{x:a,y:i,width:t,height:l}=o;this.x=a,this.y=i,this.width=t,this.height=l}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function ut(e){const o=e.getBoundingClientRect(),a=getComputedStyle(e),i=a.transform;if(i){let t,l,s,d,c;if(i.startsWith("matrix3d("))t=i.slice(9,-1).split(/, /),l=+t[0],s=+t[5],d=+t[12],c=+t[13];else if(i.startsWith("matrix("))t=i.slice(7,-1).split(/, /),l=+t[0],s=+t[3],d=+t[4],c=+t[5];else return new ie(o);const v=a.transformOrigin,y=o.x-d-(1-l)*parseFloat(v),h=o.y-c-(1-s)*parseFloat(v.slice(v.indexOf(" ")+1)),w=l?o.width/l:e.offsetWidth+1,p=s?o.height/s:e.offsetHeight+1;return new ie({x:y,y:h,width:w,height:p})}else return new ie(o)}function dt(e,o,a){if(typeof e.animate>"u")return{finished:Promise.resolve()};let i;try{i=e.animate(o,a)}catch{return{finished:Promise.resolve()}}return typeof i.finished>"u"&&(i.finished=new Promise(t=>{i.onfinish=()=>{t(i)}})),i}const ct="cubic-bezier(0.4, 0, 0.2, 1)";const ft=Z({active:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...re(),...we({transition:{component:ke}})},"VCounter"),vt=ee()({name:"VCounter",functional:!0,props:ft(),setup(e,o){let{slots:a}=o;const i=I(()=>e.max?`${e.value} / ${e.max}`:String(e.value));return te(()=>n(Pe,{transition:e.transition},{default:()=>[z(n("div",{class:["v-counter",e.class],style:e.style},[a.default?a.default({counter:i.value,max:e.max,value:e.value}):i.value]),[[Q,e.active]])]})),{}}});const mt=Z({floating:Boolean,...re()},"VFieldLabel"),G=ee()({name:"VFieldLabel",props:mt(),setup(e,o){let{slots:a}=o;return te(()=>n(it,{class:["v-field-label",{"v-field-label--floating":e.floating},e.class],style:e.style,"aria-hidden":e.floating||void 0},a)),{}}}),ht=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],be=Z({appendInnerIcon:le,bgColor:String,clearable:Boolean,clearIcon:{type:le,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},error:Boolean,flat:Boolean,label:String,persistentClear:Boolean,prependInnerIcon:le,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:e=>ht.includes(e)},"onClick:clear":ae(),"onClick:appendInner":ae(),"onClick:prependInner":ae(),...re(),...Se(),...Re(),...Fe()},"VField"),pe=ee()({name:"VField",inheritAttrs:!1,props:{id:String,...ot(),...be()},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,o){let{attrs:a,emit:i,slots:t}=o;const{themeClasses:l}=Be(e),{loaderClasses:s}=$e(e),{focusClasses:d,isFocused:c,focus:v,blur:y}=xe(e),{InputIcon:h}=st(e),{roundedClasses:w}=Le(e),{rtlClasses:p}=Te(),S=I(()=>e.dirty||e.active),g=I(()=>!e.singleLine&&!!(e.label||t.label)),_=De(),m=I(()=>e.id||`input-${_}`),r=I(()=>`${m.value}-messages`),D=T(),x=T(),H=T(),u=I(()=>["plain","underlined"].includes(e.variant)),{backgroundColorClasses:k,backgroundColorStyles:P}=Oe(Ae(e,"bgColor")),{textColorClasses:R,textColorStyles:ue}=Ee(I(()=>e.error||e.disabled?void 0:S.value&&c.value?e.color:e.baseColor));We(S,C=>{if(g.value){const b=D.value.$el,F=x.value.$el;requestAnimationFrame(()=>{const B=ut(b),V=F.getBoundingClientRect(),N=V.x-B.x,U=V.y-B.y-(B.height/2-V.height/2),W=V.width/.75,q=Math.abs(W-B.width)>1?{maxWidth:Me(W)}:void 0,X=getComputedStyle(b),de=getComputedStyle(F),Ce=parseFloat(X.transitionDuration)*1e3||150,Ve=parseFloat(de.getPropertyValue("--v-field-label-scale")),Ie=de.getPropertyValue("color");b.style.visibility="visible",F.style.visibility="hidden",dt(b,{transform:`translate(${N}px, ${U}px) scale(${Ve})`,color:Ie,...q},{duration:Ce,easing:ct,direction:C?"normal":"reverse"}).finished.then(()=>{b.style.removeProperty("visibility"),F.style.removeProperty("visibility")})})}},{flush:"post"});const M=I(()=>({isActive:S,isFocused:c,controlRef:H,blur:y,focus:v}));function ne(C){C.target!==document.activeElement&&C.preventDefault()}return te(()=>{var N,U,W;const C=e.variant==="outlined",b=t["prepend-inner"]||e.prependInnerIcon,F=!!(e.clearable||t.clear),B=!!(t["append-inner"]||e.appendInnerIcon||F),V=t.label?t.label({...M.value,label:e.label,props:{for:m.value}}):e.label;return n("div",J({class:["v-field",{"v-field--active":S.value,"v-field--appended":B,"v-field--center-affix":e.centerAffix??!u.value,"v-field--disabled":e.disabled,"v-field--dirty":e.dirty,"v-field--error":e.error,"v-field--flat":e.flat,"v-field--has-background":!!e.bgColor,"v-field--persistent-clear":e.persistentClear,"v-field--prepended":b,"v-field--reverse":e.reverse,"v-field--single-line":e.singleLine,"v-field--no-label":!V,[`v-field--variant-${e.variant}`]:!0},l.value,k.value,d.value,s.value,w.value,p.value,e.class],style:[P.value,ue.value,e.style],onClick:ne},a),[n("div",{class:"v-field__overlay"},null),n(Ne,{name:"v-field",active:!!e.loading,color:e.error?"error":typeof e.loading=="string"?e.loading:e.color},{default:t.loader}),b&&n("div",{key:"prepend",class:"v-field__prepend-inner"},[e.prependInnerIcon&&n(h,{key:"prepend-icon",name:"prependInner"},null),(N=t["prepend-inner"])==null?void 0:N.call(t,M.value)]),n("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(e.variant)&&g.value&&n(G,{key:"floating-label",ref:x,class:[R.value],floating:!0,for:m.value},{default:()=>[V]}),n(G,{ref:D,for:m.value},{default:()=>[V]}),(U=t.default)==null?void 0:U.call(t,{...M.value,props:{id:m.value,class:"v-field__input","aria-describedby":r.value},focus:v,blur:y})]),F&&n(Ue,{key:"clear"},{default:()=>[z(n("div",{class:"v-field__clearable",onMousedown:q=>{q.preventDefault(),q.stopPropagation()}},[t.clear?t.clear():n(h,{name:"clear"},null)]),[[Q,e.dirty]])]}),B&&n("div",{key:"append",class:"v-field__append-inner"},[(W=t["append-inner"])==null?void 0:W.call(t,M.value),e.appendInnerIcon&&n(h,{key:"append-icon",name:"appendInner"},null)]),n("div",{class:["v-field__outline",R.value]},[C&&n(L,null,[n("div",{class:"v-field__outline__start"},null),g.value&&n("div",{class:"v-field__outline__notch"},[n(G,{ref:x,floating:!0,for:m.value},{default:()=>[V]})]),n("div",{class:"v-field__outline__end"},null)]),u.value&&g.value&&n(G,{ref:x,floating:!0,for:m.value},{default:()=>[V]})])])}),{controlRef:H}}});function gt(e){const o=Object.keys(pe.props).filter(a=>!qe(a)&&a!=="class"&&a!=="style");return Ke(e,o)}const oe=Symbol("Forwarded refs");function se(e,o){let a=e;for(;a;){const i=Reflect.getOwnPropertyDescriptor(a,o);if(i)return i;a=Object.getPrototypeOf(a)}}function yt(e){for(var o=arguments.length,a=new Array(o>1?o-1:0),i=1;i<o;i++)a[i-1]=arguments[i];return e[oe]=a,new Proxy(e,{get(t,l){if(Reflect.has(t,l))return Reflect.get(t,l);if(!(typeof l=="symbol"||l.startsWith("__"))){for(const s of a)if(s.value&&Reflect.has(s.value,l)){const d=Reflect.get(s.value,l);return typeof d=="function"?d.bind(s.value):d}}},has(t,l){if(Reflect.has(t,l))return!0;if(typeof l=="symbol"||l.startsWith("__"))return!1;for(const s of a)if(s.value&&Reflect.has(s.value,l))return!0;return!1},set(t,l,s){if(Reflect.has(t,l))return Reflect.set(t,l,s);if(typeof l=="symbol"||l.startsWith("__"))return!1;for(const d of a)if(d.value&&Reflect.has(d.value,l))return Reflect.set(d.value,l,s);return!1},getOwnPropertyDescriptor(t,l){var d;const s=Reflect.getOwnPropertyDescriptor(t,l);if(s)return s;if(!(typeof l=="symbol"||l.startsWith("__"))){for(const c of a){if(!c.value)continue;const v=se(c.value,l)??("_"in c.value?se((d=c.value._)==null?void 0:d.setupState,l):void 0);if(v)return v}for(const c of a){const v=c.value&&c.value[oe];if(!v)continue;const y=v.slice();for(;y.length;){const h=y.shift(),w=se(h.value,l);if(w)return w;const p=h.value&&h.value[oe];p&&y.push(...p)}}}}})}const _t=["color","file","time","date","datetime-local","week","month"],xt=Z({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,type:{type:String,default:"text"},modelModifiers:Object,...rt(),...be()},"VTextField"),_e=ee()({name:"VTextField",directives:{Intersect:je},inheritAttrs:!1,props:xt(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,o){let{attrs:a,emit:i,slots:t}=o;const l=ze(e,"modelValue"),{isFocused:s,focus:d,blur:c}=xe(e),v=I(()=>typeof e.counterValue=="function"?e.counterValue(l.value):(l.value??"").toString().length),y=I(()=>{if(a.maxlength)return a.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),h=I(()=>["plain","underlined"].includes(e.variant));function w(u,k){var P,R;!e.autofocus||!u||(R=(P=k[0].target)==null?void 0:P.focus)==null||R.call(P)}const p=T(),S=T(),g=T(),_=I(()=>_t.includes(e.type)||e.persistentPlaceholder||s.value||e.active);function m(){var u;g.value!==document.activeElement&&((u=g.value)==null||u.focus()),s.value||d()}function r(u){i("mousedown:control",u),u.target!==g.value&&(m(),u.preventDefault())}function D(u){m(),i("click:control",u)}function x(u){u.stopPropagation(),m(),ce(()=>{l.value=null,Ge(e["onClick:clear"],u)})}function H(u){var P;const k=u.target;if(l.value=k.value,(P=e.modelModifiers)!=null&&P.trim&&["text","search","password","tel","url"].includes(e.type)){const R=[k.selectionStart,k.selectionEnd];ce(()=>{k.selectionStart=R[0],k.selectionEnd=R[1]})}}return te(()=>{const u=!!(t.counter||e.counter||e.counterValue),k=!!(u||t.details),[P,R]=He(a),[{modelValue:ue,...M}]=ge.filterProps(e),[ne]=gt(e);return n(ge,J({ref:p,modelValue:l.value,"onUpdate:modelValue":C=>l.value=C,class:["v-text-field",{"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-text-field--plain-underlined":["plain","underlined"].includes(e.variant)},e.class],style:e.style},P,M,{centerAffix:!h.value,focused:s.value}),{...t,default:C=>{let{id:b,isDisabled:F,isDirty:B,isReadonly:V,isValid:N}=C;return n(pe,J({ref:S,onMousedown:r,onClick:D,"onClick:clear":x,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:"textbox"},ne,{id:b.value,active:_.value||B.value,dirty:B.value||e.dirty,disabled:F.value,focused:s.value,error:N.value===!1}),{...t,default:U=>{let{props:{class:W,...q}}=U;const X=z(n("input",J({ref:g,value:l.value,onInput:H,autofocus:e.autofocus,readonly:V.value,disabled:F.value,name:e.name,placeholder:e.placeholder,size:1,type:e.type,onFocus:m,onBlur:c},q,R),null),[[Xe("intersect"),{handler:w},null,{once:!0}]]);return n(L,null,[e.prefix&&n("span",{class:"v-text-field__prefix"},[n("span",{class:"v-text-field__prefix__text"},[e.prefix])]),n("div",{class:W,"data-no-activator":""},[t.default?n(L,null,[t.default(),X]):Ye(X)]),e.suffix&&n("span",{class:"v-text-field__suffix"},[n("span",{class:"v-text-field__suffix__text"},[e.suffix])])])}})},details:k?C=>{var b;return n(L,null,[(b=t.details)==null?void 0:b.call(t,C),u&&n(L,null,[n("span",null,null),n(vt,{active:e.persistentCounter||s.value,value:v.value,max:y.value},t.counter)])])}:void 0})}),yt({},p,S,g)}}),K=e=>(tt("data-v-75d2bb01"),e=e(),nt(),e),bt=K(()=>f("h1",null,"事項",-1)),pt=K(()=>f("thead",null,[f("tr",null,[f("th",null,"名稱"),f("th",null,"操作")])],-1)),Ct={key:0},Vt=K(()=>f("td",{colspan:"2",class:"text-center"},"沒有事項",-1)),It=[Vt],wt=K(()=>f("h1",null,"已完成事項",-1)),kt=K(()=>f("thead",null,[f("tr",null,[f("th",null,"名稱"),f("th",null,"操作")])],-1)),Pt={key:0},St=K(()=>f("td",{colspan:"2",class:"text-center"},"沒有事項",-1)),Rt=[St],Ft={__name:"ListView",setup(e){const o=lt(),{addItem:a,editItem:i,cancelEditItem:t,delItem:l,confirmEditItem:s,delFinishedItem:d}=o,{items:c,finishedItems:v}=Qe(o),y=T(""),h=T(null),w=T([]),p=async()=>{const _=await h.value.validate();console.log(_),!(_.length>0)&&(a(y.value),h.value.blur(),h.value.reset())},S=async(_,m)=>{const r=await w.value[m].validate();console.log(r),!(r.length>0)&&s(_)},g={required:_=>!!_||"欄位必填",length:_=>_.length>=3||"必須三個字以上"};return(_,m)=>($(),Ze(et,null,{default:O(()=>[n(at,null,{default:O(()=>[n(Y,{cols:"12"},{default:O(()=>[bt]),_:1}),n(Y,{cols:"12"},{default:O(()=>[n(_e,{modelValue:y.value,"onUpdate:modelValue":m[0]||(m[0]=r=>y.value=r),label:"新增事項","append-icon":"mdi-plus",onKeydown:fe(p,["enter"]),"onClick:append":p,rules:[g.required,g.length],ref_key:"newItemInput",ref:h},null,8,["modelValue","onKeydown","rules"]),n(ye,null,{default:O(()=>[pt,f("tbody",null,[($(!0),A(L,null,ve(E(c),(r,D)=>($(),A("tr",{key:r.id},[f("td",null,[z(n(_e,{modelValue:r.model,"onUpdate:modelValue":x=>r.model=x,rules:[g.required,g.length],autofocus:"",ref_for:!0,ref_key:"editItemInput",ref:w,onKeydown:fe(x=>S(r.id,D),["enter"])},null,8,["modelValue","onUpdate:modelValue","rules","onKeydown"]),[[Q,r.edit]]),z(f("span",null,he(r.name),513),[[Q,!r.edit]])]),f("td",null,[r.edit?($(),A(L,{key:0},[n(j,{icon:"mdi-check",color:"green",variant:"text",onClick:x=>S(r.id,D)},null,8,["onClick"]),n(j,{icon:"mdi-undo",color:"red",variant:"text",onClick:x=>E(t)(r.id)},null,8,["onClick"])],64)):($(),A(L,{key:1},[n(j,{icon:"mdi-pencil",color:"green",variant:"text",onClick:x=>E(i)(r.id)},null,8,["onClick"]),n(j,{icon:"mdi-delete",color:"red",variant:"text",onClick:x=>E(l)(r.id)},null,8,["onClick"])],64))])]))),128)),E(c).length===0?($(),A("tr",Ct,It)):me("",!0)])]),_:1})]),_:1}),n(Y,{cols:"12"},{default:O(()=>[wt]),_:1}),n(Y,{cols:"12"},{default:O(()=>[n(ye,null,{default:O(()=>[kt,f("tbody",null,[($(!0),A(L,null,ve(E(v),r=>($(),A("tr",{key:r.id},[f("td",null,he(r.name),1),f("td",null,[n(j,{icon:"mdi-delete",color:"red",variant:"text",onClick:D=>E(d)(r.id)},null,8,["onClick"])])]))),128)),E(v).length===0?($(),A("tr",Pt,Rt)):me("",!0)])]),_:1})]),_:1})]),_:1})]),_:1}))}},Dt=Je(Ft,[["__scopeId","data-v-75d2bb01"]]);export{Dt as default};
